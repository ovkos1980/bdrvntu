%!TEX root = ../bdr.tex
\chapter[(Довідковий) Приклад додатку з лістингом]{Приклад додатку з лістингом}

%\begin{minted}  % приклад вставки коду вручну через середовище minted 
%[
%frame=lines,
%framesep=2mm,
%baselinestretch=1.2,
%fontsize=\footnotesize,
%linenos
%]
%{python}
%import numpy as np
%    
%def incmatrix(genl1,genl2):
%    m = len(genl1)
%    n = len(genl2)
%    M = None #to become the incidence matrix
%    VT = np.zeros((n*m,1), int)  #dummy variable
%    
%    #compute the bitwise xor matrix
%    M1 = bitxormatrix(genl1)
%    M2 = np.triu(bitxormatrix(genl2),1) 
%
%    for i in range(m-1):
%        for j in range(i+1, m):
%            [r,c] = np.where(M2 == M1[i,j])
%            for k in range(len(r)):
%                VT[(i)*n + r[k]] = 1;
%                VT[(i)*n + c[k]] = 1;
%                VT[(j)*n + r[k]] = 1;
%                VT[(j)*n + c[k]] = 1;
%                
%                if M is None:
%                    M = np.copy(VT)
%                else:
%                    M = np.concatenate((M, VT), 1)
%                
%                VT = np.zeros((n*m,1), int)
%    
%    return M
%\end{minted}

{\underonespace
\begin{verbatim}
#include <cstdlib>
#include <iostream>

struct node_t
 {
   int data;
   node_t *next;
   node_t *prev;    
 };

node_t *head = NULL, *tail = NULL; 

int add_head(int);
int add_tail(int);
int size_list(void);

int main(int argc, char *argv[])
{
    add_head(1);
    printf("%d\n", size_list());
    add_tail(2);
    printf("%d\n", size_list());
    system("PAUSE");
    return EXIT_SUCCESS;
}

int add_head(int d)
 {
   node_t *tmp = new node_t;
   if(tmp!=NULL)
    {
      tmp->data = d;
      tmp->next = head;
      tmp->prev = NULL;
      if(head!=NULL) head->prev = tmp;
       else if(tail==NULL) tail = tmp;
             else return -1;
      head = tmp;
      return 0;          
    } else return -1;
 }

\end{verbatim}}

\clearpage

{\underonespace
\begin{verbatim}
int add_tail(int d)
 {
   node_t *tmp = new node_t;
   if(tmp!=NULL)
    {
      tmp->data = d;
      tmp->next = NULL;
      tmp->prev = tail;
      if(tail!=NULL) tail->next = tmp;
       else if(head==NULL) head = tmp;
             else return -1;
      tail = tmp;
      return 0;          
    } else return -1;             
 }

int size_list(void)
 {
   if(head!=NULL)
    {
      int num = 0;           
      node_t *tmp = head;
      while(tmp!=NULL)
       {
         tmp = tmp->next;
         num++;            
       }
      return num;            
    } else return 0;
 }
\end{verbatim}}
